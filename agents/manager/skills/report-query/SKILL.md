---
name: hotel-report-query
description: 经营报表查询：今日实时数据、日报、周报、月报、房间状态。触发词：报表、数据、入住率、收入。
---

# 📊 经营报表查询 (Report Query)

## 触发条件

当用户提到：报表、数据、入住率、收入、营收、经营、今天怎么样、今日数据、本周、本月、ADR、RevPAR、空房。

## 工作流程

首先展示选项菜单：

```
📊 经营报表

请选择查看范围：
1️⃣ 今日实时数据
2️⃣ 指定日期报表
3️⃣ 本周汇总
4️⃣ 本月汇总
5️⃣ 房间状态总览
```

### 选项 1: 今日实时数据

生成今日模拟经营数据，格式：

```
📊 2026-02-27 实时经营数据

🏨 入住率: ████████░░ 78.5%
🚪 房间: 157 / 200 (空房 43)
💰 今日收入: ¥86,320
📈 ADR (平均房价): ¥550
📊 RevPAR (每可用房收入): ¥432
⬆️ 今日入住: 22 间
⬇️ 今日退房: 18 间
📝 新预订: 12 个

📋 房型明细

| 房型 | 在住/总数 | 收入 |
|------|---------|------|
| 标准间 | 45/100 | ¥25,896 |
| 豪华房 | 32/60 | ¥30,212 |
| 套房 | 18/30 | ¥21,580 |
| 总统套房 | 5/10 | ¥8,632 |
```

> 注意：模拟数据应当每次生成有合理的随机波动，入住率在 70%-95% 之间，保持合理性。

### 选项 2: 指定日期报表

询问日期（YYYY-MM-DD），生成该日的模拟报表。

### 选项 3: 本周汇总

权限要求：`report.weekly`（运营经理及以上）

生成最近 7 天的汇总数据，包含：
- 平均入住率
- 总收入
- 平均 ADR
- 总入住间数
- 每日趋势（用进度条可视化）

### 选项 4: 本月汇总

权限要求：`report.monthly`（总经理及以上）

生成当月累计数据。

### 选项 5: 房间状态总览

```
🚪 房间实时状态

总房间数: 200
✅ 空闲: 43
🔴 在住: 150
🧹 清洁中: 5
🔧 维修中: 2
```

## 酒店基础数据

- 总房间数: **200**
- 标准间: 100 间
- 豪华房: 60 间
- 套房: 30 间
- 总统套房: 10 间

## 指标说明

- **ADR** (Average Daily Rate) = 总收入 / 已入住房间数
- **RevPAR** (Revenue Per Available Room) = 总收入 / 总房间数
- **入住率** = 已入住房间数 / 总房间数 × 100%

## 权限规则

| 角色 | 今日/日报 | 周报 | 月报 | 部门报表 |
|------|----------|------|------|---------|
| 老板 | ✅ | ✅ | ✅ | ✅ |
| 总经理 | ✅ | ✅ | ✅ | ✅ |
| 运营经理 | ✅ | ✅ | ❌ | ❌ |
| 部门主管 | ❌ | ❌ | ❌ | ✅ (本部门) |
| 普通员工 | ❌ | ❌ | ❌ | ❌ |

## 注意事项

- 生成模拟数据时保持合理性（入住率 70-95%，ADR ¥400-600）
- 进度条使用 █ 和 ░ 字符可视化
- 默认用户为 U001（张老板），拥有全部权限
